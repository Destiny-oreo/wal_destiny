## Titanic

#### 预处理
- 初探数据：加载完必要的包以后，读入数据发现数据是DataFrame格式，和Excel格式差不多，使用info函数和describe函数来初探数据，发现有一些属性缺失了很多数据（比如年龄和Cabin），以及需要从12列属性中尽快找到和最后是否存活相关性最高的属性，用作最后对测试样本的预测；
- 数据初步分析：使用matplotlib.pyplot来画图，对于DataFrame格式可以直接获取其中某一个属性的所有数据，然后使用value_counts().plot函数来绘制图像，其中plot中的参数使用bar是绘制条形图，绘制散点图需要在scatter函数中传入x和y坐标数据，绘制kde图是只需要挑选出需要的属性中的数据并不需要使用value_counts函数，堆叠型条形图首先统计堆叠的两个属性的value_counts，然后使用DataFrame放在一起组成一个新的变量，最后直接plot即可，分析数据中的相关关系；
- 利用表格查看属性之间的关系可以使用groupby函数，参数中放入需要合并考虑的两个或者多个属性，然后将count中的某一个统计个数属性变成DataFrame格式进行打印；
- 对于缺省数据：
```
如果缺值的样本占总数比例极高，可能就直接舍弃了，作为特征加入的话，可能反倒带入noise，影响最后的结果
如果缺值的样本适中，而该属性非连续值特征属性(比如说类目属性)，那就把NaN作为一个新类别加到类别特征中
如果缺值的样本适中，而该属性为连续值特征属性，有时候我们会考虑给定一个step(比如这里的age，
我们可以考虑每隔2/3岁为一个步长)，然后把它离散化，之后把NaN作为一个type加到属性类目中。
有些情况下，缺失的值个数并不是特别多，那我们也可以试着根据已有的值，拟合一下数据，补充上。
```

#### 随机森林
- 引入随机森林的算法包 from sklearn.ensemble import RandomForestRegressor 同时为了防止报错需要把取消报错的2-4行代码加上；
- 为了根据已知对目标缺省属性影响最高的几个属性来回归预测目标缺省数据（一般将数值型特征全部提取出来），首先需要把相关参数以及缺省属性提取出来，直接在中括号中放入属性的名称即可；然后将有缺省数据的属性中缺省部分和完整部分分开来，作为训练集和预测集，将预测集的x和y输入RandomForestRegressor预设好的模型中，然后根据预测集的x预测预测集的y，并替换掉原始数据中所有缺省数据，使用df.loc[]来替换；
- 对于需要将缺省数据全部变成NO类型的属性，直接使用loc定位到所有notnull和isnull的行和列中，然后整体替换即可；

#### 逻辑回归建模
- 在进行回归预测之前，需要将所有输入特征进行因子化，即首先对非数值型特征进行转换，变成某一属性的1和0，而不是YES和NO，转换方法为使用get_dummies函数，然后将因子化以后的数据和原始数值型数据利用concat函数放在一起，然后使用drop函数将不需要的属性全部舍去，其中舍去时需要加入axis和inplace参数，axis=1时代表列方向；
- 处理完非数值型特征以后需要处理原始数值型特征，此类特征主要使用的处理方法是归一化，即将所有的数据放缩到-1到1之间，避免数值幅度的差距过大影响最后的收敛速度；放缩方法使用sklearn中的preprocessing方法，使用preprocessing的StandardScaler模型，其中输入参数时需要首先将DataFrame使用values转为矩阵，然后将大小reshape为(-1,1)，即确保为1列数据；
- 开始逻辑回归建模，首先导入线性回归模型的包from sklearn import linear_model，然后将需要输入的x特征使用filter函数进行筛选，然后使用.values转换成矩阵格式以便于输入训练，然后取出x和y，初始化模型linear_model.LogisticRegression，然后fit（x,y)，即可得到训练好的模型；
- 最后将测试文件进行同样的预处理等操作放入训练好的模型中即可预测到最后的结果；首先查看缺省数据，将Fare中缺省的设为0，然后根据年龄的缺省值补上，方法是使用前面训练好的rfr模型，输入同样数量的属性特征，得到缺省的年龄并使用loc替换掉缺省值，同样处理缺省Cabin值，然后因子化并归一化，最后即可放入clf中进行训练。










