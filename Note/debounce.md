## 消抖思路（电子防抖）：
防抖分为两大步骤，运动估计和运动补偿，核心为运动估计，找出最优运动向量，再根据运动向量补偿当前帧。运动估计的主要方法为：  
1.灰度投影法：  
2.块匹配法：   
3.位平面匹配法：  
4.边缘匹配法：  
5.特征点匹配法：（依赖于特征点的寻找，想要找到准备的特征点需要很大的计算量，导致运行速度很慢  
6.光流法：Fast角点检测和LK稀疏光流（找不到比较多的角点，且对实际移动的物体容易产生错误的估计，鲁邦性很差

#### 灰度投影法： 
1.计算每行的像素和，装入一个向量Row中，向量长度为行数，再将所有行像素去平均赋值给MeanR，最后将Row向量中减去平均值，同理列。   
2.参考帧访问范围：m->M-m-1;当前帧起始访问范围：0->2m,M-2m-1->M-1;即首先遍历w值，即偏移距离，带入计算0->M-2m-1个列的对应投影差的和，找到和最小的w；  
  即：j=0时，参考帧的第m列，对应访问当前帧的0:2m范围，j=M-2m-1时，参考帧除去边界的最后一列第M-m-1列，对应访问当前帧的M-2m-1:M-1列，找到最匹配的w值   
也即：w=1时，向左偏移了m列，w=m时向左偏移了1列，w=m+1时未偏移，w=2m+1时向右偏移了m列,所以δ=m+1-w_min(负值代表向左或者向上)   
3.显示范围即为初始的m:M-m-1;;共M-2m列 (除去两侧偏移范围的2m)  
总结1:8.27将未分区的灰度投影法修改完，没有运动物体时有些效果，但是不能修正斜着拍摄的视频； 加上运动物体时静止背景会偶尔自发移动造成过修正。  
 
灰度投影法是在前后两帧之间寻找运动向量，首先计算前后两帧对应的灰度图，然后针对横向和纵向的向量，分别向水平和竖直方向投影，计算每一行或者每一列上左右像素的和，再减去，分别计算xy两个方法上的全局运动向量，在给定的一个检测范围内，使两帧之间的灰度投影图的差值最小化。

#### 视频抖动检测专利理解：
1.分区域计算实际位移，重复计算L帧图像的抖动总值。——此为视频抖动检测，不适用于实时图像检测  
2.水平投影为例：计算每一行所有像素值的和，算出均值，计算水平灰度投影即将每一行的和减去平均值   
3.计算水平灰度投影相关函数，在搜索范围内找到偏移量w_min，d=m+1-w_min.  
4.以上在解决无运动物体时效果较好，为消除移动物体的干扰，计算各个子区域的标准偏差  









